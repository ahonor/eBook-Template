<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Ebook-template by akosmasoftware</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/akosmasoftware/eBook-Template">Fork Me on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Ebook-template</h1>
            <h2>Template to create PDF, ePub and Kindle books with Asciidoc and dblatex</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/akosmasoftware/eBook-Template/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/akosmasoftware/eBook-Template/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>

      <span class="banner-fix"></span>

      <section id="main_content">
        <h1>Template for Writing an eBook</h1>

<p>This project contains a template used to write eBooks using
<a href="http://www.methods.co.nz/asciidoc/">AsciiDoc</a>, Git, MacVim and other tools on Mac OS X.</p>

<p>The aim of the project is to provide a boilerplate used to generate
eBooks in several formats on one operation:</p>

<ul>
<li>Self-contained HTML</li>
<li>ePub</li>
<li>PDF</li>
<li>Kindle</li>
</ul><h2>Motivation</h2>

<p>Why using such a complex setup instead of just using a simpler tool like
Word or Pages?</p>

<ul>
<li>The primary motivation of this template is versioning. Being able to
use plain text files as input for the book brings the possibility of
versioning each change individually using Git, Subversion or any other
similar tool. This also opens up the door to collaboration among team
members when editing a document.</li>
<li>The second motivation is to separate the presentation and the layout
of the final book from its contents. Other output file types could be
added in the future.</li>
<li>This also brings the possibility of using any text editor in just
about any operating system; files are just plain text files that can
be edited with gEdit, Notepad, Emacs, Vim, TextEdit, or any other
tool.</li>
<li>Markup languages like Markdown or Asciidoc (used in this template) are
simpler and more readable than LaTeX or other SGML-like languages,
making the files readable and lean even when edited in a text editor
without any syntax highlighting or formatting support.</li>
<li>Finally, being able to streamline the creation of the three versions
of the book in just one command-line operation allows the whole setup
to be automatized.</li>
</ul><h2>How it Works</h2>

<p>The <code>master.asciidoc</code> file at the root of this project provides the
guiding structure of the book. Chapters can be shuffled around,
independently of their contents or internal structure.</p>

<p>Individual chapters are stored in the <code>chapters</code> folder, one file per
chapter.</p>

<p>Images are stored as PNG files in the <code>images</code> folder.</p>

<p>The <code>build.sh</code> script creates a temporary <code>_build</code> folder, copies all
the different elements in it (the master file, the chapters and the
images) and commands the execution of the whole toolchain in order to
get the final result.</p>

<h2>Software Requirements</h2>

<p>Follow these instructions to install the required libraries in Mac OS X:</p>

<ol>
<li>Install <a href="http://mxcl.github.com/homebrew/">Homebrew</a> if not already installed.

<ul>
<li>If already installed, remember to run <code>brew update</code>.</li>
</ul>
</li>
<li>Download and install <code>asciidoc</code> using Homebrew:

<ul>
<li><code>brew install asciidoc</code></li>
</ul>
</li>
<li>Install source-highlight with Homebrew:

<ul>
<li><code>brew install source-highlight</code></li>
</ul>
</li>
<li>Download and install the latest MacTeX package from
<code>http://www.tug.org/mactex/</code>
</li>
<li>Install the <code>dblatex</code> package manually:

<ul>
<li><code>brew install https://raw.github.com/gist/1430194/fc7142e21f78c19bee70c96fbef7ed583bca23b5/dblatex.rb</code></li>
</ul>
</li>
<li>Download the <a href="http://www.amazon.com/gp/feature.html?ie=UTF8&amp;docId=1000234621">kindlegen</a> tool and install it in the following
path:

<ul>
<li><code>/Applications/KindleGen_Mac_i386_v2/kindlegen</code></li>
</ul>
</li>
</ol><h2>How to build the book </h2>

<ol>
<li>Make sure AsciiDoc and dblatex are properly installed.</li>
<li>Execute the booklet/build.sh script. This will create the PDF, ePub
and HTML versions of the book.</li>
<li>The script also generates the .mobi (Amazon Kindle) version if the
<a href="http://www.amazon.com/gp/feature.html?ie=UTF8&amp;docId=1000234621">kindlegen</a> tool is installed.</li>
</ol><p>After the build process completes, the compiled eBooks will be available
at the <code>_build</code> subfolder.</p>

<h2>Troubleshooting</h2>

<h3>PDF build error</h3>

<p>If the generation of the PDF fails during "makeindex" follow the
instructions <a href="http://hackage.haskell.org/trac/ghc/wiki/Building/MacOSX">in this page</a> and add the following line: </p>

<pre><code>openout_any = r
</code></pre>

<p>to the file <code>/usr/local/texlive/2011/texmf.cnf</code></p>

<h3>EPUB build error</h3>

<p>If the EPUB generation causes problems, <a href="http://francisshanahan.com/index.php/2011/fixing-epub-problem-docbook-xsl-asciidoc-a2x/">check this page</a>.</p>

<h3>Installing dblatex</h3>

<p>dblatex has to be installed using a custom Homebrew formula, because the
default installation does not include it at the time of this writing.
This might change in the future.</p>

<h3>Why not generating the HTML using a2x?</h3>

<p>Using a2x for the HTML creation has the following drawbacks:</p>

<ul>
<li>It takes longer;</li>
<li>It does not embed the images in the HTML;</li>
<li>It does not do syntax highlighting.</li>
</ul><p>However, it creates an index when required.</p>

<h2>License</h2>

<p>This work is placed in the public domain. It belongs to mankind and to
nobody in particular. Use it to write poetry, arts, science books and
novels. You cannot use it to write hatred or stupid things.</p>

<p>However, just in case, the author does not take any responsibility about
any bad things that might happen when using this template. However, this
should not happen.</p>

<p>Use, share, transform, as much as you want. I hope you find it useful!</p>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/akosmasoftware">akosmasoftware</a> can be found on <a href="https://github.com/akosmasoftware/eBook-Template">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
